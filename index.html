<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <title>AssetFlow – PTB Dashboard</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ['Inter', 'sans-serif'] },
            colors: {
              primary: '#1a1a2e',
              secondary: '#16162a',
              accent1: '#d13197',
              accent2: '#7070ff',
              success: '#0cb981',
              warning: '#f59e0b',
              danger: '#ef4444',
            },
            animation: {
              'pulse-fast': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'fade-in': 'fadeIn 0.5s ease-out',
              'slide-up': 'slideUp 0.5s ease-out',
            },
            keyframes: {
              fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
              slideUp: { '0%': { transform: 'translateY(20px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } }
            }
          }
        }
      }
    </script>

    <!-- 2. Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- 3. React Dependencies (UMD Global Builds) -->
    <!-- React Core -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <!-- Prop Types (Required by Recharts) -->
    <script crossorigin src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <!-- Recharts (Chart Library) -->
    <script crossorigin src="https://unpkg.com/recharts@2.12.3/umd/Recharts.min.js"></script>

    <!-- 4. Babel for JSX Compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 5. GenAI Import Map -->
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.run/@google/genai",
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "recharts": "https://aistudiocdn.com/recharts@^3.5.1"
  }
}
</script>

    <style>
      body {
        background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
        color: #e5e7eb;
        -webkit-tap-highlight-color: transparent;
      }
      ::-webkit-scrollbar { width: 6px; height: 6px; }
      ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.02); }
      ::-webkit-scrollbar-thumb { background: rgba(112, 112, 255, 0.3); border-radius: 4px; }
      .glass-card {
        background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(22, 22, 42, 0.95));
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- MAIN APP LOGIC -->
    <script type="text/babel" data-type="module">
        import { GoogleGenAI } from "@google/genai";

        // ==========================================
        // 1. CONFIGURATION
        // ==========================================
        const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE'; 

        const SYMBOL_CONFIG = {
            bitcoin: { cg: "bitcoin", binance: "btcusdt", label: "BTC/USD", icon: "BTC" },
            ethereum: { cg: "ethereum", binance: "ethusdt", label: "ETH/USD", icon: "ETH" },
            tether: { cg: "tether", binance: null, label: "USDT/USD", icon: "USDT" },
            binancecoin: { cg: "binancecoin", binance: "bnbusdt", label: "BNB/USD", icon: "BNB" },
            solana: { cg: "solana", binance: "solusdt", label: "SOL/USD", icon: "SOL" }
        };

        const PLANS = [
            { id: 'profit-guard', name: 'Profit-Guard', rate: 0.03, min: 200, max: 2999, days: 3 },
            { id: 'wealth-guard', name: 'Wealth-Guard', rate: 0.05, min: 3000, max: 20000, days: 5 },
            { id: 'binance-max', name: 'Binance Max', rate: 0.07, min: 20000, max: 999999, days: 130 },
        ];

        // ==========================================
        // 2. GLOBALS & UTILS
        // ==========================================
        const { useState, useEffect, useRef, useMemo } = React;
        // Access Recharts from global window object (UMD)
        const { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer, BarChart, Bar } = window.Recharts;

        // --- Data Service ---
        const fetchHistoricalData = async (symbol, timeframe) => {
            const cfg = SYMBOL_CONFIG[symbol];
            let days = '1';
            if (timeframe === '1h') days = '7';
            if (timeframe === '4h') days = '30';

            try {
                // Try CoinGecko Public API
                const response = await fetch(`https://api.coingecko.com/api/v3/coins/${cfg.cg}/ohlc?vs_currency=usd&days=${days}`);
                if (!response.ok) throw new Error('API Limit');
                const data = await response.json();
                return data.map(d => ({
                    time: d[0],
                    open: d[1],
                    high: d[2],
                    low: d[3],
                    close: d[4],
                    volume: Math.random() * 1000 + 500 // Synthetic volume
                }));
            } catch (e) {
                console.warn("Using fallback data due to API limit");
                return generateFallbackData(days);
            }
        };

        const generateFallbackData = (daysStr) => {
            const now = Date.now();
            const days = parseInt(daysStr);
            const data = [];
            let price = 65000; 
            for (let i = 0; i < 50; i++) {
                const time = now - (days * 24 * 60 * 60 * 1000) + (i * (days * 24 * 60 * 60 * 10));
                const change = (Math.random() - 0.5) * (price * 0.02);
                data.push({
                    time,
                    close: price + change,
                    high: price + change + 100,
                    low: price + change - 100,
                    volume: Math.random() * 800 + 200
                });
                price += change;
            }
            return data;
        };

        // --- AI Service ---
        const getGeminiInsight = async (symbol, price, change) => {
            // Check if key is configured
            if (!GEMINI_API_KEY || GEMINI_API_KEY.includes('YOUR_')) {
                return `${symbol.toUpperCase()} is showing ${change >= 0 ? 'bullish' : 'bearish'} momentum. Market volatility is expected.`;
            }
            
            try {
                const ai = new GoogleGenAI({ apiKey: GEMINI_API_KEY });
                const prompt = `Analyze ${symbol} market. Price: $${price}, 24h Change: ${change}%. Give 2 concise sentences on technical sentiment and support levels.`;
                const response = await ai.models.generateContent({
                    model: 'gemini-2.5-flash',
                    contents: prompt,
                });
                return response.text;
            } catch (e) {
                console.error("Gemini Error", e);
                return "AI Insight currently unavailable. Please check your API Key configuration.";
            }
        };

        // ==========================================
        // 3. COMPONENTS
        // ==========================================

        const ChartComponent = ({ data, color }) => {
            if (!data || data.length === 0) return <div className="flex h-full items-center justify-center text-gray-500">Loading Market Data...</div>;

            const min = Math.min(...data.map(d => d.low || d.close)) * 0.99;
            const max = Math.max(...data.map(d => d.high || d.close)) * 1.01;

            return (
                <div className="flex flex-col h-full w-full">
                    <div className="flex-grow h-[70%]">
                        <ResponsiveContainer width="100%" height="100%">
                            <AreaChart data={data}>
                                <defs>
                                    <linearGradient id="colorPrice" x1="0" y1="0" x2="0" y2="1">
                                        <stop offset="5%" stopColor={color} stopOpacity={0.3}/>
                                        <stop offset="95%" stopColor={color} stopOpacity={0}/>
                                    </linearGradient>
                                </defs>
                                <XAxis dataKey="time" hide={true} />
                                <YAxis 
                                    domain={[min, max]} 
                                    orientation="right" 
                                    tick={{fill: '#9ca3af', fontSize: 10}}
                                    tickFormatter={(v) => `$${v.toLocaleString()}`}
                                    axisLine={false}
                                    tickLine={false}
                                    width={45}
                                />
                                <Tooltip 
                                    contentStyle={{ backgroundColor: '#16162a', borderColor: '#333', color: '#fff' }}
                                    itemStyle={{ color: '#fff' }}
                                    labelFormatter={() => ''}
                                    formatter={(val) => [`$${val.toFixed(2)}`, 'Price']}
                                />
                                <Area type="monotone" dataKey="close" stroke={color} fillOpacity={1} fill="url(#colorPrice)" strokeWidth={2} />
                            </AreaChart>
                        </ResponsiveContainer>
                    </div>
                    <div className="h-[30%] -mt-2 opacity-40">
                        <ResponsiveContainer width="100%" height="100%">
                            <BarChart data={data}>
                                <Bar dataKey="volume" fill={color} />
                            </BarChart>
                        </ResponsiveContainer>
                    </div>
                </div>
            );
        };

        const Calculator = () => {
            const [planId, setPlanId] = useState('profit-guard');
            const [amount, setAmount] = useState(5000);
            
            const results = useMemo(() => {
                const plan = PLANS.find(p => p.id === planId) || PLANS[0];
                const daily = amount * plan.rate;
                const total = daily * plan.days;
                return { daily, total, totalReturn: amount + total };
            }, [planId, amount]);

            const handleDownload = () => {
                const plan = PLANS.find(p => p.id === planId);
                const content = `AssetFlow PTB Calculation\n\nInvestment: $${amount}\nPlan: ${plan?.name}\nDaily Profit: $${results.daily.toFixed(2)}\nTotal Return: $${results.totalReturn.toFixed(2)}\n\nDate: ${new Date().toLocaleString()}`;
                
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `assetflow-calc-${Date.now()}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };

            return (
                <div className="glass-card rounded-2xl p-6 h-full flex flex-col hover:-translate-y-1 transition-transform duration-300">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-accent1 to-accent2">Profit Calculator</h2>
                        <button onClick={handleDownload} className="w-8 h-8 flex items-center justify-center bg-white/5 rounded hover:bg-white/10" title="Download Results">
                            <i className="fas fa-download text-gray-400"></i>
                        </button>
                    </div>

                    <div className="grid grid-cols-3 gap-2 mb-6">
                        {PLANS.map(p => (
                            <button
                                key={p.id}
                                onClick={() => setPlanId(p.id)}
                                className={`p-3 rounded-xl border text-left transition-all ${planId === p.id ? 'bg-accent1/10 border-accent1' : 'bg-white/5 border-transparent hover:bg-white/10'}`}
                            >
                                <div className="text-[10px] uppercase font-bold text-gray-400 mb-1">{p.name}</div>
                                <div className="text-sm font-bold text-white">{(p.rate * 100).toFixed(0)}% <span className="text-[10px] font-normal">/day</span></div>
                            </button>
                        ))}
                    </div>

                    <div className="mb-6">
                        <label className="text-xs font-bold text-gray-400 mb-2 block uppercase">Investment Amount</label>
                        <div className="relative">
                            <span className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">$</span>
                            <input 
                                type="number" 
                                value={amount} 
                                onChange={e => setAmount(Number(e.target.value))}
                                className="w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-8 pr-4 text-white focus:outline-none focus:border-accent1 transition-colors"
                            />
                        </div>
                    </div>

                    <div className="mt-auto space-y-3 bg-accent1/5 p-4 rounded-xl border border-accent1/10">
                        <div className="flex justify-between text-sm text-gray-300">
                            <span>Daily Profit</span>
                            <span className="font-bold text-white">${results.daily.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                        <div className="flex justify-between text-sm text-gray-300">
                            <span>Total Profit</span>
                            <span className="font-bold text-white">${results.total.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                        <div className="pt-2 border-t border-white/10 flex justify-between text-base">
                            <span className="text-accent1 font-bold">Total Return</span>
                            <span className="font-bold text-white">${results.totalReturn.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                    </div>
                </div>
            );
        };

        const SuggestionBox = ({ activeSymbol, price, change }) => {
            const [insight, setInsight] = useState('Initializing AI market analysis...');
            
            useEffect(() => {
                if(price > 0) {
                    const timer = setTimeout(async () => {
                        const txt = await getGeminiInsight(activeSymbol, price, change);
                        setInsight(txt);
                    }, 2000);
                    return () => clearTimeout(timer);
                }
            }, [activeSymbol, price, change]);

            return (
                <div className="glass-card rounded-2xl p-6 mt-6 border-l-4 border-l-accent2">
                    <div className="flex items-center gap-2 mb-3">
                        <i className="fas fa-lightbulb text-accent2"></i>
                        <h3 className="font-bold text-lg">AI Market Intelligence</h3>
                    </div>
                    <p className="text-gray-300 leading-relaxed text-sm animate-fade-in">
                        {insight}
                    </p>
                </div>
            );
        };

        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-sm animate-fade-in" onClick={onClose}></div>
                    <div className="relative z-10 w-full max-w-lg bg-[#1a1a2e] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-slide-up">
                        <div className="p-6 border-b border-white/10 flex justify-between items-center bg-[#16162a]">
                            <h3 className="text-xl font-bold text-white">{title}</h3>
                            <button onClick={onClose} className="text-gray-400 hover:text-white transition-transform hover:rotate-90"><i className="fas fa-times"></i></button>
                        </div>
                        <div className="p-6 max-h-[70vh] overflow-y-auto">
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        // ==========================================
        // 4. MAIN APP COMPONENT
        // ==========================================
        const App = () => {
            const [symbol, setSymbol] = useState('bitcoin');
            const [timeframe, setTimeframe] = useState('1m');
            const [candles, setCandles] = useState([]);
            const [price, setPrice] = useState(0);
            const [change, setChange] = useState(0);
            const [activeModal, setActiveModal] = useState(null);
            const [orderBook, setOrderBook] = useState([]);
            
            const ws = useRef(null);

            // Fetch History
            useEffect(() => {
                let mounted = true;
                const load = async () => {
                    const data = await fetchHistoricalData(symbol, timeframe);
                    if(mounted) {
                        setCandles(data);
                        if(data.length > 0) {
                            const last = data[data.length-1];
                            setPrice(last.close);
                            setChange(((last.close - data[0].close)/data[0].close)*100);
                        }
                    }
                };
                load();
                return () => { mounted = false; };
            }, [symbol, timeframe]);

            // WebSocket for Binance Ticker
            useEffect(() => {
                const cfg = SYMBOL_CONFIG[symbol];
                if(!cfg.binance) return;
                
                if(ws.current) ws.current.close();
                ws.current = new WebSocket(`wss://stream.binance.com:9443/ws/${cfg.binance}@ticker`);
                
                ws.current.onmessage = (e) => {
                    const msg = JSON.parse(e.data);
                    if(msg.c) {
                        const currentP = parseFloat(msg.c);
                        setPrice(currentP);
                        setChange(parseFloat(msg.P));
                        generateMockOrderBook(currentP);
                    }
                };

                return () => { if(ws.current) ws.current.close(); };
            }, [symbol]);

            const generateMockOrderBook = (basePrice) => {
                const spread = basePrice * 0.0005;
                const levels = [];
                for (let i = 1; i <= 4; i++) {
                    levels.push({ side: 'ask', price: basePrice + (spread * i), qty: Math.random() });
                    levels.push({ side: 'bid', price: basePrice - (spread * i), qty: Math.random() });
                }
                setOrderBook(levels.sort((a, b) => b.price - a.price));
            };

            const config = SYMBOL_CONFIG[symbol];
            const isUp = change >= 0;
            const color = isUp ? '#0cb981' : '#ef4444';

            return (
                <div className="min-h-screen pb-20">
                    <div className="max-w-[1400px] mx-auto px-4">
                        
                        {/* Header */}
                        <header className="flex justify-between items-center py-6 border-b border-white/10 mb-8">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-accent1 to-accent2 flex items-center justify-center font-black text-lg">AF</div>
                                <h1 className="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-accent1 to-accent2">AssetFlow</h1>
                            </div>
                            <div className="flex items-center gap-3 px-4 py-2 bg-white/5 rounded-full border border-white/5">
                                <div className="w-8 h-8 rounded-full bg-gradient-to-br from-accent1 to-accent2 flex items-center justify-center text-xs font-bold">JD</div>
                                <span className="hidden sm:inline text-sm font-medium">John Doe</span>
                            </div>
                        </header>

                        {/* Top Grid */}
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                            
                            {/* Chart Panel */}
                            <div className="lg:col-span-2 glass-card rounded-2xl p-6">
                                <div className="flex flex-wrap gap-4 justify-between items-center mb-6">
                                    <div className="flex items-center gap-4">
                                        <div className="p-3 bg-white/5 rounded-xl text-accent2 text-xl font-bold">{config.icon}</div>
                                        <div>
                                            <div className="text-2xl font-bold">${price.toLocaleString(undefined, {minimumFractionDigits: 2})}</div>
                                            <div className={`text-sm font-bold ${isUp ? 'text-success' : 'text-danger'}`}>
                                                {isUp ? '+' : ''}{change.toFixed(2)}% (24h)
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex gap-2 bg-white/5 p-1 rounded-lg overflow-x-auto">
                                        {Object.keys(SYMBOL_CONFIG).map(s => (
                                            <button 
                                                key={s}
                                                onClick={() => setSymbol(s)}
                                                className={`px-3 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${symbol === s ? 'bg-accent2 text-white' : 'text-gray-400 hover:text-white'}`}
                                            >
                                                {SYMBOL_CONFIG[s].icon}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <div className="h-[300px] w-full rounded-xl bg-[#0f0f1e]/40 border border-white/5 mb-4 overflow-hidden relative">
                                    <ChartComponent data={candles} color={color} />
                                </div>

                                <div className="flex flex-wrap justify-between items-center gap-4">
                                    {/* Order Book Visualization */}
                                    <div className="flex gap-2 text-[10px] hidden sm:flex">
                                        {orderBook.slice(0, 4).map((ob, idx) => (
                                            <div key={idx} className={`px-2 py-1 rounded ${ob.side === 'bid' ? 'bg-success/10 text-success' : 'bg-danger/10 text-danger'}`}>
                                                {ob.price.toFixed(2)}
                                            </div>
                                        ))}
                                    </div>

                                    <div className="flex gap-2">
                                        {['1m','15m','1h','4h'].map(t => (
                                            <button 
                                                key={t}
                                                onClick={() => setTimeframe(t)}
                                                className={`px-3 py-1 rounded text-xs font-bold border transition-all ${timeframe === t ? 'bg-white/10 border-white/20 text-white' : 'border-transparent text-gray-500 hover:text-white'}`}
                                            >
                                                {t.toUpperCase()}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {/* Calculator & AI */}
                            <div className="flex flex-col gap-6">
                                <Calculator />
                                <SuggestionBox activeSymbol={symbol} price={price} change={change} />
                            </div>
                        </div>

                        {/* Plans Section */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 ptb-section" id="plans">
                            
                            {/* VL Plan */}
                            <div className="glass-card rounded-2xl p-8 border-t-4 border-t-accent1 relative group hover:-translate-y-2 transition-transform duration-300">
                                <div className="flex flex-col items-center text-center">
                                    <div className="w-16 h-16 rounded-full bg-accent1/20 flex items-center justify-center text-3xl text-accent1 mb-4 shadow-lg shadow-accent1/20"><i className="fas fa-robot"></i></div>
                                    <h3 className="text-2xl font-bold text-white mb-2">PTB VL</h3>
                                    <div className="text-lg font-medium text-gray-400 mb-6">Activation: <span className="text-white font-bold">$300</span></div>
                                    <p className="text-sm text-gray-400 mb-6 px-4">Premium Entry-Level Autonomous Trading Protocol with AI-powered trading ecosystem.</p>
                                    
                                    <div className="w-full space-y-3 mb-8">
                                        <div className="flex items-center gap-3 text-sm text-gray-300 bg-white/5 p-3 rounded-xl">
                                            <i className="fas fa-check-circle text-success"></i> Auto-Execution Engine
                                        </div>
                                        <div className="flex items-center gap-3 text-sm text-gray-300 bg-white/5 p-3 rounded-xl">
                                            <i className="fas fa-check-circle text-success"></i> 15-25% Monthly Target
                                        </div>
                                    </div>

                                    <button 
                                        onClick={() => setActiveModal('vl')}
                                        className="w-full py-3 rounded-xl bg-gradient-to-r from-accent1 to-accent2 font-bold text-white shadow-lg shadow-accent1/20 hover:scale-[1.02] transition-transform"
                                    >
                                        Learn More & Activate
                                    </button>
                                </div>
                            </div>

                            {/* VL7 Plan */}
                            <div className="glass-card rounded-2xl p-8 border-t-4 border-t-accent2 relative group hover:-translate-y-2 transition-transform duration-300">
                                <div className="flex flex-col items-center text-center">
                                    <div className="w-16 h-16 rounded-full bg-accent2/20 flex items-center justify-center text-3xl text-accent2 mb-4 shadow-lg shadow-accent2/20"><i className="fas fa-rocket"></i></div>
                                    <h3 className="text-2xl font-bold text-white mb-2">PTB VL7</h3>
                                    <div className="text-lg font-medium text-gray-400 mb-6">Activation: <span className="text-white font-bold">$1,500</span></div>
                                    <p className="text-sm text-gray-400 mb-6 px-4">Advanced High-Tier AI Trading Intelligence Protocol with enterprise-level features.</p>
                                    
                                    <div className="w-full space-y-3 mb-8">
                                        <div className="flex items-center gap-3 text-sm text-gray-300 bg-white/5 p-3 rounded-xl">
                                            <i className="fas fa-check-circle text-success"></i> Enterprise Strategy
                                        </div>
                                        <div className="flex items-center gap-3 text-sm text-gray-300 bg-white/5 p-3 rounded-xl">
                                            <i className="fas fa-check-circle text-success"></i> 25-40% Monthly Target
                                        </div>
                                    </div>

                                    <button 
                                        onClick={() => setActiveModal('vl7')}
                                        className="w-full py-3 rounded-xl bg-gradient-to-r from-accent1 to-accent2 font-bold text-white shadow-lg shadow-accent1/20 hover:scale-[1.02] transition-transform"
                                    >
                                        Learn More & Activate
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Modals */}
                        <Modal isOpen={activeModal === 'vl'} onClose={() => setActiveModal(null)} title="Activate PTB VL">
                            <div className="space-y-6 text-gray-300">
                                <p>PTB VL is our entry-level autonomous trading bot designed for consistent growth. It uses algorithmic risk control to protect capital while targeting steady returns.</p>
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="bg-white/5 p-3 rounded text-center"><div className="text-xs text-gray-400">Min Investment</div><div className="font-bold text-white">$300</div></div>
                                    <div className="bg-white/5 p-3 rounded text-center"><div className="text-xs text-gray-400">Monthly Return</div><div className="font-bold text-success">15-25%</div></div>
                                </div>
                                <ul className="list-disc pl-5 space-y-1 text-sm">
                                    <li>Real-time market synchronization</li>
                                    <li>Algorithmic risk control</li>
                                    <li>Seamless reinvestment routing</li>
                                </ul>
                                <button 
                                    onClick={() => window.location.href = 'https://assetflow.ltd/ptb?plan=vl'}
                                    className="w-full py-3 mt-4 rounded-xl bg-accent1 text-white font-bold hover:bg-accent1/90 transition-all shadow-lg shadow-accent1/20"
                                >
                                    Proceed to Payment
                                </button>
                            </div>
                        </Modal>

                         <Modal isOpen={activeModal === 'vl7'} onClose={() => setActiveModal(null)} title="Activate PTB VL7">
                            <div className="space-y-6 text-gray-300">
                                <p>PTB VL7 is the enterprise-grade solution utilizing deep learning for maximum market penetration. Ideal for high-net-worth individuals seeking aggressive yet secured growth.</p>
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="bg-white/5 p-3 rounded text-center"><div className="text-xs text-gray-400">Min Investment</div><div className="font-bold text-white">$1,500</div></div>
                                    <div className="bg-white/5 p-3 rounded text-center"><div className="text-xs text-gray-400">Monthly Return</div><div className="font-bold text-success">25-40%</div></div>
                                </div>
                                <ul className="list-disc pl-5 space-y-1 text-sm">
                                    <li>Elevated profit windows</li>
                                    <li>Extended strategy bandwidth</li>
                                    <li>Priority access to automated workflows</li>
                                </ul>
                                <button 
                                    onClick={() => window.location.href = 'https://assetflow.ltd/ptb?plan=vl7'}
                                    className="w-full py-3 mt-4 rounded-xl bg-accent1 text-white font-bold hover:bg-accent1/90 transition-all shadow-lg shadow-accent1/20"
                                >
                                    Proceed to Payment
                                </button>
                            </div>
                        </Modal>

                        <footer className="mt-12 py-8 border-t border-white/5 text-center text-gray-500 text-sm">
                            <p>© 2023 AssetFlow Dashboard. All rights reserved.</p>
                        </footer>

                        <div className="fixed bottom-24 right-6 z-40">
                            <button onClick={()=> document.getElementById('plans').scrollIntoView({behavior:'smooth'})} className="flex items-center gap-2 px-6 py-3 rounded-full bg-gradient-to-r from-accent1 to-accent2 text-white font-bold shadow-xl shadow-accent1/30 transition-all hover:scale-105 hover:-translate-y-1">
                                <i className="fas fa-bolt"></i> Activate PTB
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Error Boundary for rendering safety
        class ErrorBoundary extends React.Component {
          constructor(props) { super(props); this.state = { hasError: false, error: null }; }
          static getDerivedStateFromError(error) { return { hasError: true, error }; }
          componentDidCatch(error, errorInfo) { console.error("App Error:", error, errorInfo); }
          render() {
            if (this.state.hasError) {
              return (
                <div className="flex items-center justify-center min-h-screen bg-[#1a1a2e] text-white p-8 text-center">
                  <div>
                    <h1 className="text-2xl font-bold text-danger mb-4">Something went wrong</h1>
                    <p className="text-gray-400 mb-4">Please reload the page.</p>
                    <pre className="text-left bg-black p-4 rounded overflow-auto text-xs text-gray-500 border border-white/10 max-w-lg mx-auto">
                      {this.state.error && this.state.error.toString()}
                    </pre>
                  </div>
                </div>
              );
            }
            return this.props.children;
          }
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <ErrorBoundary>
                <App />
            </ErrorBoundary>
        );
    </script>

    <!-- ElevenLabs Widget -->
    <elevenlabs-convai agent-id="4Ru5Kc9YPdJXxR1jRuHG"></elevenlabs-convai>
    <script src="https://unpkg.com/@elevenlabs/convai-widget-embed@beta" async type="text/javascript"></script>
</body>
</html>